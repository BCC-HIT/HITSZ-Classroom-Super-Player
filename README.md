# 🚀 HITSZ 课堂视频超级播放器 (HITSZ Super Player)

> **专为 HITSZ 教学视频平台定制的“沉浸式”双流播放增强工具。**

[![Install on GreasyFork](https://img.shields.io/badge/Install-GreasyFork-green.svg)](https://greasyfork.org/zh-CN/scripts/559935-hitsz-%E8%AF%BE%E5%A0%82%E8%A7%86%E9%A2%91%E8%B6%85%E7%BA%A7%E6%92%AD%E6%94%BE%E5%99%A8) [![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)

## 📖 简介 (Introduction)

学校的回放平台通常将“教师画面”和“PPT课件”分开，观看时需要在两者间反复切换，难以兼顾板书和幻灯片。此外，原生播放器还存在声音小、黑边严重、进度条难用等问题。

**HITSZ 课堂视频超级播放器** 通过重构底层逻辑，实现了**双流同屏播放**。它利用画中画技术，让你在同一屏幕上同时看清老师的表情动作和课件的详细内容，配合音频引擎，带来极致的网课观看体验。

## 🚀 安装脚本 (Install)

如果 GreasyFork 无法访问，请尝试 OpenUserJS 镜像站点。

* **[推荐] GreasyFork 下载**: [点击安装](https://greasyfork.org/zh-CN/scripts/559935-hitsz-%E8%AF%BE%E5%A0%82%E8%A7%86%E9%A2%91%E8%B6%85%E7%BA%A7%E6%92%AD%E6%94%BE%E5%99%A8)
* **[镜像] OpenUserJS 网站**: [点击安装](https://openuserjs.org/scripts/BCC-HIT/HITSZ_%E8%AF%BE%E5%A0%82%E8%A7%86%E9%A2%91%E8%B6%85%E7%BA%A7%E6%92%AD%E6%94%BE%E5%99%A8)
* **[直接安装] GitHub 原始代码**: [直接安装](https://github.com/BCC-HIT/HITSZ-Classroom-Super-Player/blob/main/HITSZ-Classroom-Super-Player.user.js)

---

## ✨ 核心功能 (Features)

### 1. 📺 双流同屏与画中画 (Dual Stream PiP)

这是本脚本最核心的功能。

* **双视窗播放**：自动检测课堂的双路信号，主画面放映课件，右下角画中画显示老师（可一键互换）。
* **画中画“物理去黑边”**：点击画中画顶部的 `✂` 按钮，强制将窗口物理变窄为 4:3 比例，并使用 Cover 模式填充。**彻底切除左右黑边**，不再遮挡主画面，还原课件/板书的真实视野。
* **自由窗口变形**：
  * **边缘拖拽**：可自由改变画中画长宽比（拉长/变扁）。
  * **角落拖拽**：锁定比例等比缩放。
* **无缝热交换**：点击 `⇋` 互换主副视角，且**音量设置独立绑定**，交换后无需重新调节音量。
* **画中画显隐**：点击 `👁️` 可暂时隐藏副画面（声音保持播放），专心听课不分心。

### 2. 🔊 音频系统 (Audio DSP)

* **500% 音量增益**：突破浏览器 100% 限制，最大支持 5 倍音量放大，拯救收音差的课程。
* **Pro 智能增强**：默认开启 5dB 智能增强，内置：
  * **High-Shelf 降噪**：强力压制高频“沙沙”电流声。
  * **Compressor 压缩器**：防止大音量下出现爆音/破音，人声更厚实清晰。
* **独立音量控制**：提供两组独立滑块，分别控制“视频源1”和“视频源2”的音量。
* **滚轮极速调音**：鼠标悬停在主画面空白处，滚动滚轮即可快速调节主音量。

### 3. 🎬 画面布局与交互

* **主画面拉伸模式**：支持一键在“保持原始比例”与“强制拉伸铺满全屏”之间切换，消除主屏幕黑边。
* **B 站风信息条**：左上角自动显示课程名称、主讲教师及录制时间（鼠标悬停显示）。
* **同步微调**：支持 `0.1s` 级精度的音画同步调节，解决录制延迟导致的声画不同步。
* **UI 净化**：强制隐藏网页原生滚动条，采用毛玻璃 (Glassmorphism) 设计风格的悬浮控制栏。

---

## 🎮 操作指南 (User Guide)

### ⌨️ 快捷键

| 按键             | 功能                   |
| :--------------- | :--------------------- |
| **空格 (Space)** | 播放 / 暂停 (双流同步) |
| **方向键 →**     | 快进 5 秒              |
| **方向键 ←**     | 后退 5 秒              |

### 🖱️ 鼠标交互

| 操作区域         | 动作     | 功能                  |
| :--------------- | :------- | :-------------------- |
| **主画面空白处** | 滚轮上下 | 调节主音量 (Volume 1) |
| **画中画窗口**   | 滚轮上下 | 缩放窗口大小          |
| **画中画边缘**   | 拖拽     | 自由改变长宽比        |
| **主画面**       | 双击     | 进入/退出全屏         |

---

## ⚠️ 免责声明

1. 本脚本仅用于优化 HITSZ 校内平台的播放器交互体验（UI/UX Enhancement）。
2. 所有视频数据均直接流向用户浏览器，脚本不拦截、不存储、不传输任何媒体内容。

---

**Author:** [BCC](https://github.com/BCC-HIT)  
**License:** MIT
